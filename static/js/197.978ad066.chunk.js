"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[197],{3594:function(e,t,n){n.r(t),n.d(t,{default:function(){return ce}});var a=n(885),s=n(2791),r={blockform:"ContactForm_blockform__7wifA",LabelForm:"ContactForm_LabelForm__PQTCj",NamesForm:"ContactForm_NamesForm__sU3Tn",ButtonsContact:"ContactForm_ButtonsContact__4ym86",InputForm:"ContactForm_InputForm__yTwDU",ErrorName:"ContactForm_ErrorName__z-fRt"},o=n(5273),c=n(5582),i=n(4039),l=n(6140),u=n(8380),m=n(6151),d=n(184),_=function(){var e=(0,s.useState)(""),t=(0,a.Z)(e,2),n=t[0],_=t[1],f=(0,s.useState)(""),h=(0,a.Z)(f,2),p=h[0],x=h[1],C=(0,s.useState)(!1),g=(0,a.Z)(C,2),b=g[0],j=g[1],v=(0,s.useState)(!1),Z=(0,a.Z)(v,2),N=Z[0],k=Z[1],I=(0,s.useState)("fill in the fields"),P=(0,a.Z)(I,2),F=P[0],L=P[1],w=(0,s.useState)("fill in the fields"),y=(0,a.Z)(w,2),E=y[0],S=y[1],T=(0,c.wY)().data,z=(0,c.Tn)(),B=(0,a.Z)(z,2),A=B[0],R=B[1].isLoading,D=(0,s.useState)(!1),U=(0,a.Z)(D,2),M=U[0],W=U[1];(0,s.useEffect)((function(){W(!F&&!E)}),[F,E]);var X=function(e){switch(e.target.name){case"name":j(!0);break;case"number":k(!0);break;default:return}},q=function(e){var t=e.target,n=t.name,a=t.value;switch(n){case"name":_(a),e.target.value.length<3?(L("invalid name"),a||L("fill in the fields")):L("");break;case"number":x(a),a.length<6||a.length>12?(S("The number must be longer than 6 and less than 12"),a||S("fill in the fields")):S("");break;default:return}},G=function(){return T.find((function(e){return e.name.toUpperCase()===n.toUpperCase()||e.number===p}))};return(0,d.jsxs)("form",{noValidate:!0,className:r.forma,onSubmit:function(e){e.preventDefault(),G()?l.ZP.success("".concat(n," is already in contacts"),{style:{border:"1px solid red",padding:"16px",color:"red"},iconTheme:{primary:"red",secondary:"#FFFAEE"}}):(A({name:n,number:p,id:(0,o.nanoid)()}),_(""),x(""),l.ZP.success("Contact added!"))},children:[(0,d.jsxs)("div",{className:r.blockform,children:[(0,d.jsx)(u.Z,{className:r.InputForm,id:"outlined-basic",label:"Name",variant:"outlined",type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+(([' -][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*)*$",title:"\u0418\u043c\u044f \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0438\u0437 \u0431\u0443\u043a\u0432, \u0430\u043f\u043e\u0441\u0442\u0440\u043e\u0444\u0430, \u0442\u0438\u0440\u0435 \u0438 \u043f\u0440\u043e\u0431\u0435\u043b\u043e\u0432. \u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440 Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan \u0438 \u0442. \u043f.",required:!0,value:n,onChange:q,onBlur:function(e){return X(e)}}),F&&b&&(0,d.jsx)("div",{className:r.ErrorName,children:F}),(0,d.jsx)(u.Z,{className:r.InputForm,id:"outlined-basic",label:"Telephone",variant:"outlined",type:"number",name:"number",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",title:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430 \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0441\u0442\u043e\u044f\u0442\u044c \u0446\u0438\u0444\u0440 \u0438 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u043f\u0440\u043e\u0431\u0435\u043b\u044b, \u0442\u0438\u0440\u0435, \u043a\u0440\u0443\u0433\u043b\u044b\u0435 \u0441\u043a\u043e\u0431\u043a\u0438 \u0438 \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c\u0441\u044f \u0441 +",required:!0,value:p,onChange:q,onBlur:function(e){return X(e)}}),E&&N&&(0,d.jsx)("div",{className:r.ErrorName,children:E})]}),(0,d.jsx)(m.Z,{disabled:!M,type:"submit",variant:"outlined",children:R?(0,d.jsx)(i.W0,{color:"#00BFFF",height:20,width:20}):"Add contact"}),(0,d.jsx)(l.x7,{position:"top-center"})]})},f=(0,s.memo)(_),h="Filter_LabelForm__5FURR",p="Filter_NamesForm__NVh6x",x="Filter_InputName__WwURk",C=n(3444),g=n(5048),b=n(7078),j=function(){var e=(0,g.I0)();return(0,d.jsxs)("label",{className:h,children:[(0,d.jsx)("span",{className:p,children:"Find contacts by name"}),(0,d.jsx)(b.Z,{className:x,color:"success",type:"text",name:"filter",placeholder:"filter contacts",onChange:function(t){e((0,C.pe)(t.currentTarget.value))}})]})},v=n(5861),Z=n(7757),N=n.n(Z),k="ContactListItem_ButtonsContact__nYGHx",I="ContactListItem_NumberContacts__P3EA2",P="ContactListItem_IconsDelete__39UkZ",F="ContactListItem_IconsRemove__oLgqX",L="ContactListItem_EditButton__MvSK+",w="ContactListItem_EditIcon__I2pD9",y="ContactListItem_ButtonDone__cCAMZ",E="ContactListItem_IconDone__fJvs3",S="ContactListItem_DefaultInput__dG43Z",T="ContactListItem_DroupContent__91i1u",z="ContactListItem_Backdroup__J9yck",B="ContactListItem_InputModal__Ce1Xt",A="ContactListItem_editModal__L46+7",R="ContactListItem_EditDelete__J-9z5",D=n(7247),U=n(9579),M=n(1286),W=(n(9323),n(1428)),X=n(9823),q=n(3400),G=n(1469),Y=n(4586),J=function(e){var t=e.id,n=e.name,r=e.number,o=(0,c._e)(),i=(0,a.Z)(o,1)[0],m=(0,c.zr)(),_=(0,a.Z)(m,2),f=_[0],h=_[1].isLoading,p=(0,s.useState)(null),x=(0,a.Z)(p,2),C=x[0],g=x[1],b=(0,s.useState)(n),j=(0,a.Z)(b,2),Z=j[0],J=j[1],V=(0,s.useState)(r),H=(0,a.Z)(V,2),O=H[0],K=H[1],Q=(0,s.useState)(!1),$=(0,a.Z)(Q,2),ee=$[0],te=$[1],ne=(0,s.useState)(!1),ae=(0,a.Z)(ne,2),se=ae[0],re=ae[1];(0,s.useEffect)((function(){re(!(!Z||!O))}),[Z,O]);var oe=function(e){27===e.keyCode&&ce()};(0,s.useEffect)((function(){return window.addEventListener("keydown",oe),function(){window.removeEventListener("keydown",oe)}}),[oe]);var ce=function(e){te(!ee),g(e)},ie=function(){g(null)},le=function(){var e=(0,v.Z)(N().mark((function e(t){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f(t);case 2:l.ZP.error("Contact delete!");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ue=function(){var e=(0,v.Z)(N().mark((function e(n){return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),g(null),!Z||!O){e.next=5;break}return e.next=5,i({id:t,name:Z,number:O});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("span",{className:I,children:[(0,d.jsx)(Y.Z,{}),n,": ",r]}),C?(0,d.jsx)("div",{onClick:function(e){e.target===e.currentTarget&&ie()},className:z,children:(0,d.jsx)("form",{onSubmit:ue,children:(0,d.jsxs)("div",{className:T,children:[(0,d.jsxs)("div",{className:S,children:[(0,d.jsx)(u.Z,{className:B,label:"Name",id:"outlined-size-small",defaultValue:"Small",size:"small",type:"text",value:Z||"",onChange:function(e){return J(e.target.value)}}),(0,d.jsx)(u.Z,{className:B,label:"Number",id:"outlined-size-small",defaultValue:"Small",size:"small",type:"number",value:O||"",onChange:function(e){return K(e.target.value)}})]}),(0,d.jsx)("button",{disabled:!se,className:y,type:"submit",children:(0,d.jsx)(W.Z,{className:E})}),(0,d.jsx)("button",{type:"button",onClick:ie,className:A,children:(0,d.jsx)(X.Z,{})})]})})}):(0,d.jsxs)("div",{className:R,children:[(0,d.jsx)("button",{onClick:function(){return ce(t)},className:L,type:"button",children:(0,d.jsx)(G.Z,{title:"Edit",children:(0,d.jsx)(q.Z,{size:"small",children:(0,d.jsx)(M.Z,{fontSize:"small",className:w})})})}),(0,d.jsx)("button",{className:k,type:"button",onClick:function(){return le(t)},children:h?(0,d.jsx)(G.Z,{title:"Delete",children:(0,d.jsx)(q.Z,{size:"small",children:(0,d.jsx)(U.Z,{fontSize:"small",className:F})})}):(0,d.jsx)(G.Z,{title:"Delete",children:(0,d.jsx)(q.Z,{size:"small",children:(0,d.jsx)(D.Z,{fontSize:"small",className:P})})})})]})]})},V="ContactList_ContactList__TIBqY",H="ContactList_ItemContacts__nXX0G",O=function(e,t){return e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase().trim())}))},K=function(){var e=(0,c.wY)({count:5},{refetchOnMountOrArgChange:!0}).data,t=(0,g.v9)((function(e){return e.contacts.filter}));return(0,d.jsx)("ul",{className:V,children:e&&O(e,t).map((function(e){var t=e.id,n=e.name,a=e.number;return(0,d.jsx)("li",{className:H,children:(0,d.jsx)(J,{id:t,name:n,number:a})},t)}))})},Q=n(4569),$=n.n(Q),ee=(0,o.createAction)("contacts/fetchTodosRequest"),te=(0,o.createAction)("contacts/fetchTodosSuccess"),ne=(0,o.createAction)("contacts/fetchTodosError"),ae={fetchContacts:function(){return function(){var e=(0,v.Z)(N().mark((function e(t){var n,a;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(ee()),e.prev=1,e.next=4,$().get("/contacts");case 4:n=e.sent,a=n.data,t(te(a)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),t(ne(e.t0.message));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()}},se=ae,re=n(58),oe=n(6057),ce=function(){var e=(0,g.I0)();return(0,s.useEffect)((function(){e(se.fetchContacts())}),[e]),(0,d.jsxs)("div",{className:re.Z.Forms,children:[(0,d.jsxs)("h1",{className:re.Z.PhoneBook,children:[(0,d.jsx)(oe.Z,{}),"Phonebook"]}),(0,d.jsx)(f,{}),(0,d.jsx)("h2",{className:re.Z.Contacts,children:"Contacts"}),(0,d.jsx)(j,{}),(0,d.jsx)(K,{})]})}},58:function(e,t){t.Z={HomePhone:"Pages_HomePhone__4bjw-",PersonWelcom:"Pages_PersonWelcom__0ePYp",Forms:"Pages_Forms__yR4cF",PhoneBook:"Pages_PhoneBook__ebPAg",Contacts:"Pages_Contacts__9kmGg",FormRegister:"Pages_FormRegister__kD0WT",InputRegister:"Pages_InputRegister__C6zst",InputPosition:"Pages_InputPosition__UB-ip",InputEidth:"Pages_InputEidth__j6D1I",RegisterText:"Pages_RegisterText__xRyZW",TextProject:"Pages_TextProject__08Xwh",BackLogin:"Pages_BackLogin__h8bbX",ButtRegis:"Pages_ButtRegis__CATAz",ErrorType:"Pages_ErrorType__cngzF",PageError:"Pages_PageError__1vGiE"}}}]);
//# sourceMappingURL=197.978ad066.chunk.js.map